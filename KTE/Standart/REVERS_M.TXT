
              Программа реверсирования мощных КТЭ.

      Алгоритм программы реверсирования Revers() основывается на
  опросе датчиков ДЗВА и ДЗВК говорящих о состоянии анодной и катодной
  тиристорной группы и разрешении переключения мостов после прихода сигналов
  с этих датчиков т.е. после запирания тиристоров.

      Алгоритм реверсирования состоит из следующих шагов:
  1. запрос на реверсирование FSIFU.Revers усананавливает РС при изменении
  знака выхода РС и уменьшении задания на ток ZIDN до уставки _r.Temp_RT_M ;

  2. по запросу реверсирования снимаются подтверждающие импульсы при токе
  IDV <= 3 дскр (1,5% от номинала) ;

  3. программа реверсирования вызывается диспетчером свободного
  времени Zapas(). Свободное время это время от данного момента до
  момента формирования очередного ИУ. Свободное время возникает за
  счет изменения интервала между ИУ при изменении угла управления.
  Перед выполнением каждой из программ диспетчер проверяет резерв
  свободного времени. Если времени не осталось, то диспетчер завершает
  работу и программа переходит к новому рабочему циклу.
  При входе в диспетчер начальный фрагмент программы реверсирования
  считывает выходы датчиков ДЗВ через порт С ВВ55. При наличии синалов
  лог."0" с двух датчиков, что говорит о запертом состоянии анодной и катодной
  тиристорной группы, программа переходит собственно к самому реверсированию.
  В противном случае программа реверсирования возвращает управление
  диспетчеру.  Далее до тех пор пока есть резерв свободного времени диспетчер
  будет вызывать программу реверсирования, если установлен запрос реверси-
  рования, чередуя ее вызовы с вызовами программ из очереди, за время
  выполнения которых будут выполняться измерения запущенные программой
  реверсирования. По исчерпании времени диспетчер завершает работу и программа
  переходит к новому рабочему циклу. На новом рабочем цикле, независимо от
  того снялся запрос реверсирования программой реверса или нет, РС может либо
  снять либо подтвердить его и весь выше- описанный алгоритм повторится.

  4. Вызываемая диспетчером программа реверсирования работает следущим
  образом:
      а) считывание сигналов с датчиков ДЗВ через порт С ВВ55. При наличии
         синалов лог."0" с двух датчиков, что говорит о запертом состоянии
         анодной и катодной тиристорной группы, программа переходит к
         пункту в); при наличии сигнала лог."0" с одного из датчиков программа
         снимает импульсы, фиксирует время для выдержки 10мс и выходит из прог-
         раммы с последующим входом по пункту б);

      б) считывание сигналов с датчиков ДЗВ, если прошло < 10мс, а сигнал
         лог."0" со другого датчика так и не пришел - выход из программы с
         последующим входом по пункту б); при отсутствии сигнала > 10мс
         прогамма выдает предупреждение "Нет сигнала ДЗВА(ДЗВК)" и перходит
         к пункту в);

      в) собственно само реверсирование:
         если запушенный ИУ успел к данному моменту сформироваться,
         то выход, иначе запрет ЕПА по СИФУ, расчет РТ, линеаризация,
         переключение номера моста, расчет СИФУ с подбором номера
         тиристора, на который не поздно (с некоторым запасом) выдавать
         с заданным углом ИУ, запуск ЕПА по СИФУ, разрешение
         подтверждающих импульсов, сброс запроса на реверс, выход из
         п/п.
