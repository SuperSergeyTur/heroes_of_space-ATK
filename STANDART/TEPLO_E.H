#ifndef _teplo_e_h
#define _teplo_e_h

     // Время цикла перерасчета (в секундах).

#ifndef   _Teplo_cikl
  #define   _Teplo_cikl   0.200
#endif

    //  Структура оперативных данных теплового расчета.
struct TEPLO_Data
{
  word     Isum, Ix, ax ;
  word     I_max  ;
  word     Integr_w ;    //  для индикации.
  word     Integr_drob ;
  word     TimeCikl ;
  byte     label;      //, I_max_drob ;
  word     n_izm ;     // byte     n_izm ; 21.06.16 FAA переполнение в одноплатном ВТЕ с током <33% (Id_Nom=800 u) (и как результат перегрузка по току ротора)  (цикл программы 0,1-0,3 ms)   
  double   buff ;
} ;

    //  Структура исходных данных теплового расчета.
struct TEPLO_cData
{
    //     Адрес переменной рабочего тока.
  word  *Iptr ;

    /*   Значение в дискретах, соответствующее номинальному
     * значению тока, используемого для теплового расчета.  */
    /*   Номинальное значение нагрева вычисляется в том же масштабе,
     * что и ток. Соответствует установившемуся значению старших двух байт
     * теплового интегратора при длительном номинальном токе.
     */
  word   TeploNom  ;

    /* Количество точек заданной токовременной таблицы. */
  word   NumTeploPoint  ;

    /*   Указатель на таблицу токов заданной токовременной таблицы. */
  word   *Tok ;

   /*   Указатель на массив уставок коррекции времен таблицы. */
  word   *Time ;

    /*   Коэффициент расчета охлаждения. */
  word   *Time_ohlad ;

} ;

extern word Teplo_exp ( word code, struct TEPLO_Data *ptr, const struct TEPLO_cData *cptr ) ;

/*------------------------------------------------*/
#endif

