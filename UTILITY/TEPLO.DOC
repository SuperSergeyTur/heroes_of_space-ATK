          3.2.2.10.  Комплекс программ тепловой защиты статора по полному
        току статора Iп, вычисленному по измеренным по-фазно и усредненным
        активной Iа и реактивной Iр составляющим тока статора, каждую се-
        кунду рассчитывает текущий нагрев статора, определяет разницу между
        текущим и максимально-допустимым нагревом и на основании этой раз-
        ницы вычисляет максимально-допустимый для статора полный ток на пос-
        ледующую секунду с таким расчетом, чтобы к исходу этой секунды ста-
        тор не оказался перегретым.
          По прошествии секунды расчет повторяется.
          Расчитанный таким образом максимально-допустимый ток накладывает-
        ся в качестве ограничения в области индуктивного тока в регуляторе
        реактивной мощности (см.выше).
          Заложенные в программу тепловой защиты теория и алгоритм расчета
        описаны ниже.
          Температура тела, к которому "приложено тепло", изменяется по
        экспоненциальному закону и ее значение через заданное время опреде-
        ляется по формуле :
              Q(n) = Q(n)' + ( Qt - Q(n-1) ) * ( 1 - exp(-dt/Tau) )  ( 3.2-11 )

        где
            Qt  - "приложенное тепло" ,
            Q(n-1) - начальная температура тела,
            Q(n)  - расчитываемая температура тела к концу времени dt,
            Tau - постоянная времени нагрева тела.
            dt  - время в течение которого было "приложено тепло",

        Таким образом, температуру тела спустя время tp можно определить
        по формуле (3.2-11) приняв dt=tp или разбив промежуток времени tp на
        N и более мелких промежутков t'=tp\N и просчитать формулу (3.2-11)
        N-раз, принимая на очередной итерации dt=t' и Q(n-1)равным Q(n) от пре-
        дыдущей итерации, т.е. температура тела достигнутая к концу преды-
        дущего промежутка времени t' является начальным условием для расче-
        та температуры на текущем t'.
          Первый способ удобен при условии если в течение tp "приложенное
        тепло" оставалось неизменным и есть возможность вычислить функцию
        EXP() при изменяющемся dt. В противном случае удобнее второй способ,
        т.е. регулярно производить перерасчет через равные промежутки вре-
        мени dt (в течение которого "приложенное тепло" можно считать неиз-
        менным) и температуру Q(n), расчитанную в конце текущего промежутка
        dt, принимать как начальное условие Q(n-1) для следующего dt. Посколь-
        ку в этом случае dt является постоянным, благодаря регулярности
        расчета, то, зная значение Tau, величину (1-exp(-dt/Tau)) можно
        расчитать заранее и далее использовать как коэффициент.
          Величину Tau можно определить из таблицы 3.3 задающей параметры
        теплового ограничения:
                                             Таблица 3.3.
        ╔══════╦══════╤══════╤══════╤══════╤══════╤══════╗
        ║  Qt  ║ Qt1  │ Qt2  │ .... │ Qti  │ .... │ Qtn  ║
        ╠══════╬══════╪══════╪══════╪══════╪══════╪══════╣
        ║  tp  ║ tp1  │ tp2  │ .... │ tpi  │ .... │ tpn  ║
        ╚══════╩══════╧══════╧══════╧══════╧══════╧══════╝

        В табл.3.3 задано максимально допустимое время tpi приложения к те-
        лу тепла Qti (Qt1 < Qt2 < Qti < Qtn) при условии, что до этого тем-
        пература тела Q(n-1) имела установившееся значение, соответствующее
        длительно приложенному номинальному теплу. Отсюда можно сделать
        вывод, что при приложении к телу тепла Qt1,Qt2,...,Qti через время
        tp1,tp2,...,tpi температура тела достигнет некоторого максимально
        допустимого значения Qmax, а при приложении тепла (Qtn-1%)(условно)
        значение Qmax будет достигнуто через tp="бесконечность", что воз-
        можно, учитывая экспоненциальный характер процесса нагрева, при

                        Qmax=Qtn-1%  .          (3.2-12)

          Из вышесказанного, табл.3.3 и формулы (3.2-11) следует :

             Qmax = Q(n-1) + ( Qti - Q(n-1) ) * ( 1 - exp(-tpi/Tau) )  ( 3.2-13 ) .


          Задавшись Q(n-1) равным номинальному значению Qnom определив из
        (3.2-12) Qmax из (3.2-13) можно найти значение Taui:

                                 tpi
              Taui = ─   ──────────────────        .          (3.2-14)
                              Qti - Qmax
                          Ln ────────────
                              Qti - Qnom

          В идеальном случае, если табл.3.3 задана корректно, мы должны
        получить Tau1=Tau2=Taui , т.к. это постоянные времени одного и того
        же тела.
          Определив, таким образом, Tau и задавшись периодичностью расчета
        dt можно определить величину коэффициента:

                        Kq = 1 - exp(-dt/Tau)    и

        формула (3.2-11) упростится до вида

                        Q(n) = Q(n-1) + (Qt - Q(n-1)) * Kq  .       (3.2-15)

        В этом виде она удобна для программирования.
          На практике нагрев объекта призводится протекающим по нему током
        и поэтому в табл.3.3 и формулах (3.2-11...3.2-15) вместо величины
        тепла Qt вводят пропорциональную ей величину тока It, отсюда:
        -  формула (3.2-15) принимает вид :

                        Q(n) = Q(n-1) + (It*Ki - Q(n-1)) * Kq  ,    (3.2-16)
                где Ki - коэффициент пропорциональности .

        -  формула (3.2-12) принимает вид :

                        Qmax = (Itn - 1%) * Ki   ,

        -  величина Qnom определится как :

                        Qnom = (Inom - 1%) * Ki  ,

        -  формула (3.2-14) принимает вид :
                                 tpi
              Taui = ─   ─────────────────────     .        (3.2-17)
                              Iti - (Itn-1%)
                          Ln ───────────────
                               Iti - Inom

          По величине, расчитанной к данному моменту, температуры Q(n)  из
        (3.2-16) определяется максимально допустимый в данный момент ток :

                            (Qmax - Q(n))
                Imax*Ki =  ─────────────  +  Q(n)    ,           (3.2-18)
                                Kq

          На практике табл.3.3 снимается не точно и при расчете Tau, как
        правило, оказывается что условие Tau1=Tau2=Taui, а следовательно и
        условие Kq1=Kq2=Kqi не соблюдаются. Поэтому возникает необходимость
        для каждого тока Iti, из табл.1, расчитывать свой Taui и заранее
        составлять таблицу из Kqi. Затем при расчете Q(n) выбирать из нее
        Kq соответствующее диапазону, в который попадает значение текущего
        тока It. При расчете же Imax значения Kq должны выбираться по зна-
        чению Imax, которое станет известным только после, собственно, са-
        мого расчета, что "несколько" неудобно, поэтому Kq выбирается по
        значению Imax расчитанному на предыдущей итерации.
          В программе расчета нагрева ротора реализована формула (3.2-16), а
        в программе расчета максимально-допустимого тока - формула (3.2-18).
          Коэффициент Ki принят равным единице.
          В качестве It для статора принимается полный ток статора Iп,
        вычисленный по формуле:
